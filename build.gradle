apply plugin: 'java'

sourceSets {
  main {
    java {
      srcDirs = ['src']
      exclude '**/*Test.java'
    }
  }
  test {
    java { 
      srcDirs = ['src']
      include '**/*Test.java'
    }
  }
}

repositories {
  mavenCentral()
}

dependencies {
  /* Listing junit under compile is a hack for GNU make to use copyDeps */
  compile 'junit:junit:4.+'
  testCompile 'junit:junit:4.+'
}

task copyDeps(type: Copy) {
  from configurations.runtime
  into 'build/lib'
}

test {
  testLogging {
    exceptionFormat = 'full'
  }
}
